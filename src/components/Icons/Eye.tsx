import { motion, useMotionValue, useTransform } from 'framer-motion'
import { useEffect, useState } from 'react'

interface IconProps {
  style: string
  color?: string
}

export default function Eye({ style, color }: IconProps) {
  const y = useMotionValue(0)
  const [innerHeight, setInnerHeight] = useState(0)

  useEffect(() => {
    setInnerHeight(window.innerHeight)

    const handleMouseMove = (event: MouseEvent) => {
      y.set(event.clientY)
    }

    window.addEventListener('mousemove', handleMouseMove)

    return () => {
      window.removeEventListener('mousemove', handleMouseMove)
    }
  }, [y])

  const yOffset = useTransform(y, [0, innerHeight || 1], [-10, 10])

  return (
    <svg
      width="45"
      height="49"
      viewBox="0 0 45 49"
      className={style}
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g clipPath="url(#clip0_494_287)">
        <mask
          id="mask0_494_287"
          style={{ maskType: 'luminance' }}
          maskUnits="userSpaceOnUse"
          x="-95"
          y="0"
          width="255"
          height="49"
        >
          <path d="M159.637 0H-94.7222V48.6197H159.637V0Z" fill="white" />
        </mask>
        <g mask="url(#mask0_494_287)">
          <mask
            id="mask1_494_287"
            style={{ maskType: 'alpha' }}
            maskUnits="userSpaceOnUse"
            x="-1"
            y="0"
            width="95"
            height="49"
          >
            <path
              d="M17.4806 48.3336C7.62418 48.3336 -0.0065918 40.2577 -0.0065918 29.511C-0.0065918 14.7582 13.3473 0.132507 28.2273 0.132507C37.7656 0.132507 44.8241 8.01764 44.8241 18.6371C44.8241 33.1356 31.9791 48.3336 17.4806 48.3336Z"
              fill="#1C1C1C"
            />
          </mask>
          <g mask="url(#mask1_494_287)">
            <motion.g style={{ y: yOffset }}>
              <path
                className="eyeglobe"
                d="M26.9592 48.0235C34.7148 48.0235 41.002 41.7364 41.002 33.9808C41.002 26.2252 34.7148 19.938 26.9592 19.938C19.2037 19.938 12.9165 26.2252 12.9165 33.9808C12.9165 41.7364 19.2037 48.0235 26.9592 48.0235Z"
                fill={color || '#CAD6FF'}
              />
            </motion.g>
          </g>
          <path
            d="M-90.0084 47.5599H-98.3387L-110.929 3.04701H-102.981L-93.6966 36.4317L-84.6033 3.04701H-77.4812L-68.3243 36.4953L-59.0402 3.04701H-51.0915L-63.6822 47.5599H-72.0125L-81.0422 14.3024L-90.0084 47.5599ZM-39.2767 47.5599H-46.9075V3.04701H-39.2767V21.3609H-14.8583V3.04701H-7.2275V47.5599H-14.8583V28.2286H-39.2767V47.5599ZM17.4807 48.3229C7.62429 48.3229 -0.00648568 40.247 -0.00648568 29.5004C-0.00648568 14.7475 13.3474 0.121887 28.2274 0.121887C37.7657 0.121887 44.8242 8.00703 44.8242 18.6265C44.8242 33.125 31.9792 48.3229 17.4807 48.3229ZM4.76275 31.1537C4.76275 39.9291 9.02327 47.0512 17.7987 47.0512C31.4069 47.0512 40.1185 30.4542 40.1185 17.2275C40.1185 8.45214 36.2397 1.45727 27.9094 1.45727C13.6017 1.45727 4.76275 17.5455 4.76275 31.1537ZM66.1983 48.3229C56.3419 48.3229 48.7111 40.247 48.7111 29.5004C48.7111 14.7475 62.065 0.121887 76.945 0.121887C86.4834 0.121887 93.5419 8.00703 93.5419 18.6265C93.5419 33.125 80.6967 48.3229 66.1983 48.3229ZM53.4803 31.1537C53.4803 39.9291 57.7408 47.0512 66.5162 47.0512C80.1244 47.0512 88.8362 30.4542 88.8362 17.2275C88.8362 8.45214 84.9573 1.45727 76.627 1.45727C62.3193 1.45727 53.4803 17.5455 53.4803 31.1537ZM97.1983 47.5599V3.04701H119.773C122.74 3.04701 125.326 3.66172 127.531 4.89112C129.735 6.07813 131.431 7.73146 132.618 9.85112C133.805 11.9708 134.398 14.366 134.398 17.0368C134.398 19.9619 133.762 22.5267 132.491 24.7311C131.261 26.8932 129.523 28.5677 127.276 29.7547C125.072 30.8993 122.571 31.4717 119.773 31.4717H104.829V47.5599H97.1983ZM119.391 24.604C121.68 24.604 123.461 23.8833 124.733 22.4419C126.004 20.9581 126.64 19.1564 126.64 17.0368C126.64 14.9171 125.962 13.2002 124.605 11.886C123.291 10.5718 121.553 9.91471 119.391 9.91471H104.829V24.604H119.391ZM157.893 48.5137C154.036 48.5137 150.623 47.9202 147.655 46.7332C144.688 45.5038 142.335 43.7869 140.597 41.5824C138.901 39.3356 137.969 36.7496 137.799 33.8245H145.621C145.96 36.2833 147.21 38.2122 149.372 39.6111C151.534 41.0101 154.375 41.7096 157.893 41.7096C160.776 41.7096 162.959 41.2009 164.443 40.1835C165.969 39.1236 166.732 37.6399 166.732 35.7322C166.732 34.1212 166.16 32.8706 165.015 31.9804C163.871 31.0901 162.09 30.2635 159.674 29.5004L152.425 27.3383C149.796 26.5329 147.592 25.7274 145.811 24.9219C144.073 24.1164 142.505 22.887 141.106 21.2337C139.749 19.5804 139.071 17.4183 139.071 14.7475C139.071 12.2887 139.707 10.1055 140.979 8.19779C142.293 6.29009 144.137 4.80633 146.511 3.7465C148.927 2.64428 151.746 2.09317 154.968 2.09317C160.352 2.09317 164.655 3.44975 167.877 6.16291C171.099 8.87608 172.858 12.5855 173.155 17.2911H165.397C165.227 14.7052 164.21 12.6703 162.345 11.1865C160.522 9.66035 157.978 8.89729 154.714 8.89729C152.255 8.89729 150.284 9.38479 148.8 10.3598C147.359 11.3349 146.638 12.6703 146.638 14.366C146.638 15.553 146.977 16.5281 147.655 17.2911C148.376 18.0118 149.203 18.5629 150.135 18.9445C151.111 19.326 152.679 19.8771 154.841 20.5978L161.582 22.6963C164.295 23.5441 166.52 24.4132 168.259 25.3034C170.039 26.1513 171.523 27.3807 172.71 28.9917C173.897 30.6026 174.49 32.7223 174.49 35.3506C174.49 38.0214 173.812 40.353 172.455 42.3455C171.099 44.338 169.17 45.8641 166.669 46.924C164.168 47.9838 161.242 48.5137 157.893 48.5137Z"
            fill={color || '#CAD6FF'}
          />
        </g>
      </g>
      <defs>
        <clipPath id="clip0_494_287">
          <rect width="44.7778" height="48.6197" fill="white" />
        </clipPath>
      </defs>
    </svg>
  )
}
